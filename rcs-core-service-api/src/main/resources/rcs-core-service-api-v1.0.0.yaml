openapi: 3.0.0
info:
  title: Russian Classical School Core API
  version: 1.0.0
  description: 'Русская классическая школа'
  contact:
    name: Anton Elshin
    email: anton.elshin@mail.ru
    url: https://vk.com/russianclassicalschool_yaroslavl
servers:
  - url: 'http://localhost:8080'
paths:
  /school-classes:
    parameters: [ ]
    get:
      summary: Получение списка классов по параметрам
      operationId: findSchoolClasses
      description: Получение списка классов по параметрам
      tags:
        - school-classes
      parameters:
        - $ref: '#/components/parameters/search'
      responses:
        '200':
          description: OK
          headers: { }
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SchoolClassDTO'
              examples:
                example-1:
                  value:
                    - id: b06e7544-a62a-42a3-b937-73508dae48c7
                      systemName: string
                      name: string
                      description: string
  '/school-class/{schoolClassId}':
    parameters:
      - $ref: '#/components/parameters/schoolClassId'
    get:
      summary: Получение класса по идентификатору
      operationId: getSchoolClassById
      description: Получение класса по идентификатору
      tags:
        - school-class
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchoolClassDTO'
              examples:
                example-1:
                  value:
                    id: b06e7544-a62a-42a3-b937-73508dae48c7
                    systemName: string
                    name: string
                    description: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
    put:
      summary: Метод изменяет класс
      operationId: modifySchoolClass
      description: Метод изменяет класс
      tags:
        - school-class
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchoolClassDTO'
            examples:
              example-1:
                value:
                  id: b06e7544-a62a-42a3-b937-73508dae48c7
                  systemName: string
                  name: string
                  description: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchoolClassDTO'
              examples:
                example-1:
                  value:
                    id: b06e7544-a62a-42a3-b937-73508dae48c7
                    systemName: string
                    name: string
                    description: string
        '400':
          description: Bad Request
        '422':
          description: Unprocessable Entity (WebDAV)
    delete:
      summary: Удаление класса по идентификатору
      operationId: removeSchoolClass
      description: Удаление класса по идентификатору
      tags:
        - school-class
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
  /school-class:
    parameters: []
    post:
      summary: Создание класса
      operationId: addSchoolClass
      description: Создание класса
      tags:
        - school-class
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchoolClassDTO'
            examples:
              example-1:
                value:
                  id: b06e7544-a62a-42a3-b937-73508dae48c7
                  systemName: string
                  name: string
                  description: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchoolClassDTO'
              examples:
                example-1:
                  value:
                    id: b06e7544-a62a-42a3-b937-73508dae48c7
                    systemName: string
                    name: string
                    description: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
  /subjects:
    parameters: [ ]
    get:
      summary: Получение списка предметов по параметрам
      operationId: findSubjects
      description: Получение списка предметов по параметрам
      tags:
        - subjects
      parameters:
        - $ref: '#/components/parameters/search'
      responses:
        '200':
          description: OK
          headers: { }
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SubjectDTO'
              examples:
                example-1:
                  value:
                    - id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                      systemName: string
                      name: string
                      description: string
  '/subject/{subjectId}':
    parameters:
      - $ref: '#/components/parameters/subjectId'
    get:
      summary: Получение предмета по идентификатору
      operationId: getSubjectById
      description: Получение предмета по идентификатору
      tags:
        - subject
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectDTO'
              examples:
                example-1:
                  value:
                    id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                    systemName: string
                    name: string
                    description: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
    put:
      summary: Метод изменяет предмет
      operationId: modifySubject
      description: Метод изменяет предмет
      tags:
        - subject
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubjectDTO'
            examples:
              example-1:
                value:
                  id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                  systemName: string
                  name: string
                  description: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectDTO'
              examples:
                example-1:
                  value:
                    id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                    systemName: string
                    name: string
                    description: string
        '400':
          description: Bad Request
        '422':
          description: Unprocessable Entity (WebDAV)
    delete:
      summary: Удаление предмета по идентификатору
      operationId: removeSubject
      description: Удаление предмета по идентификатору
      tags:
        - subject
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
  /subject:
    parameters: []
    post:
      summary: Создание предмета
      operationId: addSubject
      description: Создание предмета
      tags:
        - subject
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubjectDTO'
            examples:
              example-1:
                value:
                  id: 1
                  systemName: string
                  name: string
                  description: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubjectDTO'
              examples:
                example-1:
                  value:
                    id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                    systemName: string
                    name: string
                    description: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
  /school-tests:
    parameters: [ ]
    get:
      summary: Получение списка школьных тестов по параметрам
      operationId: findSchoolTests
      description: Получение списка школьных тестов по параметрам
      tags:
        - school-tests
      parameters:
        - $ref: '#/components/parameters/schoolTestClassId'
        - $ref: '#/components/parameters/schoolTestSubjectId'
      responses:
        '200':
          description: OK
          headers: { }
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SchoolTestResDTO'
              examples:
                example-1:
                  value:
                    - id: 7dafaf2b-3fd8-45d4-b658-84493ed622aa
                      schoolClass:
                        id: b06e7544-a62a-42a3-b937-73508dae48c7
                        systemName: string
                        name: string
                        description: string
                      subject:
                        id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                        systemName: string
                        name: string
                        description: string
                      displayName: string
  '/school-test/{schoolTestId}':
    parameters:
      - $ref: '#/components/parameters/schoolTestId'
    get:
      summary: Получение школьного теста по идентификатору
      operationId: getSchoolTestById
      description: Получение школьного теста по идентификатору
      tags:
        - school-test
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchoolTestResDTO'
              examples:
                example-1:
                  value:
                    - id: 7dafaf2b-3fd8-45d4-b658-84493ed622aa
                      schoolClass:
                        id: b06e7544-a62a-42a3-b937-73508dae48c7
                        systemName: string
                        name: string
                        description: string
                      subject:
                        id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                        systemName: string
                        name: string
                        description: string
                      displayName: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
    put:
      summary: Метод изменяет школьный тест
      operationId: modifySchoolTest
      description: Метод изменяет школьный тест
      tags:
        - school-test
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchoolTestReqDTO'
            examples:
              example-1:
                value:
                  id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                  schoolClassId: string
                  subjectId: string
                  displayName: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchoolTestResDTO'
              examples:
                example-1:
                  value:
                    - id: 7dafaf2b-3fd8-45d4-b658-84493ed622aa
                      schoolClass:
                        id: b06e7544-a62a-42a3-b937-73508dae48c7
                        systemName: string
                        name: string
                        description: string
                      subject:
                        id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                        systemName: string
                        name: string
                        description: string
                      displayName: string
        '400':
          description: Bad Request
        '422':
          description: Unprocessable Entity (WebDAV)
    delete:
      summary: Удаление школьного теста по идентификатору
      operationId: removeSchoolTest
      description: Удаление школьного теста по идентификатору
      tags:
        - test
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
  /school-test:
    parameters: []
    post:
      summary: Создание школьного теста
      operationId: addSchoolTest
      description: Создание школьного теста
      tags:
        - test
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SchoolTestReqDTO'
            examples:
              example-1:
                value:
                  id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                  schoolClassId: string
                  subjectId: string
                  displayName: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SchoolTestResDTO'
              examples:
                example-1:
                  value:
                    - id: 7dafaf2b-3fd8-45d4-b658-84493ed622aa
                      schoolClass:
                        id: b06e7544-a62a-42a3-b937-73508dae48c7
                        systemName: string
                        name: string
                        description: string
                      subject:
                        id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
                        systemName: string
                        name: string
                        description: string
                      displayName: string
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorDTO'
        '422':
          description: Unprocessable Entity (WebDAV)
components:
  schemas:
    ErrorDTO:
      title: ErrorDTO
      type: object
      additionalProperties: false
      description: Объект ошибки
      x-examples:
        example-1:
          code: 1
          message: string
      properties:
        code:
          type: integer
          format: int64
          description: Код ошибки
          minimum: 0
          maximum: 2147483647
        message:
          type: string
          description: Текст ошибки
          maxLength: 256
    SchoolClassDTO:
      title: SchoolClassDTO
      type: object
      additionalProperties: false
      description: Класс
      x-examples:
        example-1:
          id: b06e7544-a62a-42a3-b937-73508dae48c7
          systemName: string
          name: string
          description: string
      properties:
        id:
          type: string
          description: Уникальный идентификатор
          format: uuid
        systemName:
          type: string
          description: Системное имя
          maxLength: 50
        name:
          type: string
          description: Имя
          maxLength: 50
        description:
          type: string
          description: Описание
          maxLength: 255
      required:
        - systemName
        - name
    SubjectDTO:
      title: SubjectDTO
      type: object
      additionalProperties: false
      description: Класс
      x-examples:
        example-1:
          id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
          systemName: string
          name: string
          description: string
      properties:
        id:
          type: string
          description: Уникальный идентификатор
          format: uuid
        systemName:
          type: string
          description: Системное имя
          maxLength: 50
        name:
          type: string
          description: Имя
          maxLength: 50
        description:
          type: string
          description: Описание
          maxLength: 255
      required:
        - systemName
        - name
    SchoolTestReqDTO:
      title: SchoolTestReqDTO
      type: object
      additionalProperties: false
      description: Входящий объект с информацией по школьному тесту
      x-examples:
        example-1:
          id: 7dafaf2b-3fd8-45d4-b658-84493ed622aa
          schoolClassId: b06e7544-a62a-42a3-b937-73508dae48c7
          subjectId: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
          displayName: string
      properties:
        id:
          type: string
          description: Уникальный идентификатор теста
          format: uuid
        schoolClassId:
          type: string
          description: Уникальный идентификатор класса
          format: uuid
        subjectId:
          type: string
          description: Уникальный идентификатор предмет
          format: uuid
        description:
          type: string
          description: Отображаемое имя
          maxLength: 255
      required:
        - schoolClassId
        - subjectId
    SchoolTestResDTO:
      title: SchoolTestResDTO
      type: object
      additionalProperties: false
      description: Исходящий объект с информацией по школьному тесту
      x-examples:
        example-1:
          id: 7dafaf2b-3fd8-45d4-b658-84493ed622aa
          schoolClass:
            id: b06e7544-a62a-42a3-b937-73508dae48c7
            systemName: string
            name: string
            description: string
          subject:
            id: c9e86aa4-dea3-4cec-885f-a601c9ad21dd
            systemName: string
            name: string
            description: string
          displayName: string
      properties:
        id:
          type: string
          description: Уникальный идентификатор
          format: uuid
        schoolClass:
          $ref: '#/components/schemas/SchoolClassDTO'
        subject:
          $ref: '#/components/schemas/SubjectDTO'
        displayName:
          type: string
          description: Отображаемое название
          maxLength: 255
  parameters:
    search:
      name: search
      in: query
      schema:
        type: string
        maxLength: 50
      description: Строка для поиска
    schoolTestClassId:
      name: schoolTestClassId
      in: query
      required: true
      schema:
        type: string
        format: uuid
      description: Идентификатор класса
    schoolTestSubjectId:
      name: schoolTestSubjectId
      in: query
      required: true
      schema:
        type: string
        format: uuid
      description: Идентификатор предмета
    schoolClassId:
      name: schoolClassId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Идентификатор класса
    subjectId:
      name: subjectId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Идентификатор предмета
    schoolTestId:
      name: schoolTestId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: Идентификатор теста
tags:
  - name: school-classes
  - name: school-class
  - name: subjects
  - name: subject
  - name: school-tests
  - name: school-test